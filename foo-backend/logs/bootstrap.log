2020-10-02 09:13:07,746 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:13:07,752 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:13:07,753 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:13:07,753 INFO  vn.zalopay.phucvt.fooapp.grpc.gRPCServer gRPC server start successfully !, port 5001
2020-10-02 09:13:07,753 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:13:07,754 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:13:07,754 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:13:07,752 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:13:07,754 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:13:07,770 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:13:07,773 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:13:07,773 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:13:07,773 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:13:07,775 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:13:07,776 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:13:07,776 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:13:07,776 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:13:09,919 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/public/login
2020-10-02 09:13:10,107 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/public/login with status=200
2020-10-02 09:13:10,114 INFO  vn.zalopay.phucvt.fooapp.handler.LogInHandler login successfully by user=phucvt
2020-10-02 09:13:10,235 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws connected with user: 4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:13:10,352 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/users
2020-10-02 09:13:10,374 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler cache miss, get user list from db, size=2
2020-10-02 09:13:10,377 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler get online user ids, set=[4568355d-5768-4813-8ce7-5ac8fd807240]
2020-10-02 09:13:10,385 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/users with status=200
2020-10-02 09:13:10,521 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/messages/1ae99533-7be8-48b6-8fbc-90b0dbd7bb01/0
2020-10-02 09:13:10,532 DEBUG vn.zalopay.phucvt.fooapp.handler.MessageListHandler get messages list: cache miss, 4568355d-5768-4813-8ce7-5ac8fd807240-1ae99533-7be8-48b6-8fbc-90b0dbd7bb01-0
2020-10-02 09:13:10,556 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/messages/1ae99533-7be8-48b6-8fbc-90b0dbd7bb01/0 with status=200
2020-10-02 09:13:11,933 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/messages/9c364cbd-ac90-4afc-b94c-4c264e0e57b0/0
2020-10-02 09:13:11,936 DEBUG vn.zalopay.phucvt.fooapp.handler.MessageListHandler get messages list: cache miss, 4568355d-5768-4813-8ce7-5ac8fd807240-9c364cbd-ac90-4afc-b94c-4c264e0e57b0-0
2020-10-02 09:13:11,943 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/messages/9c364cbd-ac90-4afc-b94c-4c264e0e57b0/0 with status=200
2020-10-02 09:13:12,859 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/messages/1ae99533-7be8-48b6-8fbc-90b0dbd7bb01/0
2020-10-02 09:13:12,861 DEBUG vn.zalopay.phucvt.fooapp.handler.MessageListHandler get messages list: cache miss, 4568355d-5768-4813-8ce7-5ac8fd807240-1ae99533-7be8-48b6-8fbc-90b0dbd7bb01-0
2020-10-02 09:13:12,864 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/messages/1ae99533-7be8-48b6-8fbc-90b0dbd7bb01/0 with status=200
2020-10-02 09:16:13,565 INFO  vn.zalopay.phucvt.fooapp.grpc.gRPCServer gRPC server start successfully !, port 5001
2020-10-02 09:16:13,575 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:16:13,576 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:16:13,577 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:16:13,577 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:16:13,582 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:16:13,585 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:16:13,586 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:16:13,586 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:16:13,595 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:16:13,595 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:16:13,595 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:16:13,595 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:16:13,595 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:16:13,595 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:16:13,596 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:16:13,596 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:16:22,999 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/messages/1ae99533-7be8-48b6-8fbc-90b0dbd7bb01/0
2020-10-02 09:16:23,010 DEBUG vn.zalopay.phucvt.fooapp.handler.MessageListHandler get messages list: cache miss, 4568355d-5768-4813-8ce7-5ac8fd807240-1ae99533-7be8-48b6-8fbc-90b0dbd7bb01-0
2020-10-02 09:16:23,059 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/messages/1ae99533-7be8-48b6-8fbc-90b0dbd7bb01/0 with status=200
2020-10-02 09:16:25,445 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl gRPC call getBalance from userId=4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:16:28,210 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/users
2020-10-02 09:16:28,236 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler cache hit, user list size=2
2020-10-02 09:16:28,238 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler get online user ids, set=[]
2020-10-02 09:16:28,239 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/users with status=200
2020-10-02 09:16:28,288 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/messages/1ae99533-7be8-48b6-8fbc-90b0dbd7bb01/0
2020-10-02 09:16:28,291 DEBUG vn.zalopay.phucvt.fooapp.handler.MessageListHandler get messages list: cache miss, 4568355d-5768-4813-8ce7-5ac8fd807240-1ae99533-7be8-48b6-8fbc-90b0dbd7bb01-0
2020-10-02 09:16:28,295 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/messages/1ae99533-7be8-48b6-8fbc-90b0dbd7bb01/0 with status=200
2020-10-02 09:16:49,255 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl gRPC call transferMoney from userId=4568355d-5768-4813-8ce7-5ac8fd807240 to userId=1ae99533-7be8-48b6-8fbc-90b0dbd7bb01 with amount=10000
2020-10-02 09:16:49,256 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl get user auth for userId=4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:16:49,260 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl validate password
2020-10-02 09:16:49,261 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl Validated pwd, now start transaction
2020-10-02 09:16:49,272 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl check balance
2020-10-02 09:16:49,274 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl withdraw userId=4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:16:49,284 INFO  vn.zalopay.phucvt.fooapp.da.FintechDAImpl Set param prepared statement:-10000--1601605009--4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:16:49,295 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 09:16:49,297 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl deposit userId=1ae99533-7be8-48b6-8fbc-90b0dbd7bb01 with amount=10000
2020-10-02 09:16:49,298 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=updateBalance
2020-10-02 09:16:49,298 INFO  vn.zalopay.phucvt.fooapp.da.FintechDAImpl Set param prepared statement:10000--1601605009--1ae99533-7be8-48b6-8fbc-90b0dbd7bb01
2020-10-02 09:16:49,300 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 09:16:49,301 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl log transfer 4568355d-5768-4813-8ce7-5ac8fd807240=1ae99533-7be8-48b6-8fbc-90b0dbd7bb01
2020-10-02 09:16:49,306 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=updateBalance
2020-10-02 09:16:49,309 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 09:16:49,310 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl log account_log userId=4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:16:49,321 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=insertTransfer
2020-10-02 09:16:49,325 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=insertAccountLog
2020-10-02 09:16:49,334 ERROR vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl transfer money transaction failed, cause= message: Log sender account log failed
, stackTrace: io.vertx.core.impl.NoStackTraceThrowable: Log sender account log failed

2020-10-02 09:16:49,337 ERROR vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl log account_log failed, cause=Code=1265, 
sqlState=01000
,  message: Data truncated for column 'transfer_type' at row 1
, stackTrace: java.sql.SQLException: Data truncated for column 'transfer_type' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ServerPreparedStatement.serverExecute(ServerPreparedStatement.java:637)
	at com.mysql.cj.jdbc.ServerPreparedStatement.executeInternal(ServerPreparedStatement.java:418)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1347)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at vn.zalopay.phucvt.fooapp.da.BaseTransactionDA.executeWithParams(BaseTransactionDA.java:41)
	at vn.zalopay.phucvt.fooapp.da.FintechDAImpl.lambda$null$4(FintechDAImpl.java:94)
	at vn.zalopay.phucvt.fooapp.utils.AsyncHandler.lambda$run$0(AsyncHandler.java:21)
	at io.vertx.core.impl.ContextImpl.lambda$executeBlocking$2(ContextImpl.java:272)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)

2020-10-02 09:17:41,197 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/users
2020-10-02 09:17:41,206 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler cache hit, user list size=2
2020-10-02 09:17:41,206 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler get online user ids, set=[]
2020-10-02 09:17:41,206 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/users with status=200
2020-10-02 09:17:41,326 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/messages/1ae99533-7be8-48b6-8fbc-90b0dbd7bb01/0
2020-10-02 09:17:41,328 DEBUG vn.zalopay.phucvt.fooapp.handler.MessageListHandler get messages list: cache miss, 4568355d-5768-4813-8ce7-5ac8fd807240-1ae99533-7be8-48b6-8fbc-90b0dbd7bb01-0
2020-10-02 09:17:41,345 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/messages/1ae99533-7be8-48b6-8fbc-90b0dbd7bb01/0 with status=200
2020-10-02 09:17:41,391 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws connected with user: 4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:18:49,299 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl gRPC call transferMoney from userId=4568355d-5768-4813-8ce7-5ac8fd807240 to userId=1ae99533-7be8-48b6-8fbc-90b0dbd7bb01 with amount=10000
2020-10-02 09:18:49,300 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl get user auth for userId=4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:18:49,302 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl validate password
2020-10-02 09:18:49,302 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl Validated pwd, now start transaction
2020-10-02 09:18:49,304 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl check balance
2020-10-02 09:18:49,307 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl withdraw userId=4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:18:49,307 INFO  vn.zalopay.phucvt.fooapp.da.FintechDAImpl Set param prepared statement:-10000--1601605129--4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:18:49,310 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 09:18:49,311 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl deposit userId=1ae99533-7be8-48b6-8fbc-90b0dbd7bb01 with amount=10000
2020-10-02 09:18:49,311 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=updateBalance
2020-10-02 09:18:49,311 INFO  vn.zalopay.phucvt.fooapp.da.FintechDAImpl Set param prepared statement:10000--1601605129--1ae99533-7be8-48b6-8fbc-90b0dbd7bb01
2020-10-02 09:18:49,313 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 09:18:49,313 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl log transfer 4568355d-5768-4813-8ce7-5ac8fd807240=1ae99533-7be8-48b6-8fbc-90b0dbd7bb01
2020-10-02 09:18:49,314 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=updateBalance
2020-10-02 09:18:49,315 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 09:18:49,315 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl log account_log userId=4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:18:49,319 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=insertTransfer
2020-10-02 09:18:49,322 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 09:18:49,322 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl log account_log userId=1ae99533-7be8-48b6-8fbc-90b0dbd7bb01
2020-10-02 09:18:49,322 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=insertAccountLog
2020-10-02 09:18:49,326 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 09:18:49,326 DEBUG vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl Transaction successfully
2020-10-02 09:18:49,334 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=insertAccountLog
2020-10-02 09:22:07,401 INFO  vn.zalopay.phucvt.fooapp.grpc.gRPCServer gRPC server start successfully !, port 5001
2020-10-02 09:22:07,418 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:22:07,419 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:22:07,420 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:22:07,420 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:22:07,420 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:22:07,423 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:22:07,426 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:22:07,426 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:22:07,426 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:22:07,426 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:22:07,427 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:22:07,427 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:22:07,427 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:22:07,428 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:22:07,428 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:22:07,428 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:22:07,852 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws connected with user: 4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:22:53,271 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/public/signup
2020-10-02 09:22:53,345 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 09:22:53,348 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=insertUser
2020-10-02 09:22:53,396 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/public/signup with status=200
2020-10-02 09:23:01,940 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/public/login
2020-10-02 09:23:01,965 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/public/login with status=200
2020-10-02 09:23:01,969 INFO  vn.zalopay.phucvt.fooapp.handler.LogInHandler login successfully by user=luffy
2020-10-02 09:23:02,015 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws connected with user: 3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 09:23:02,100 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/users
2020-10-02 09:23:02,115 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler cache hit, user list size=3
2020-10-02 09:23:02,116 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler get online user ids, set=[3e323fc8-35fa-4d9f-a3d2-fea1452d210f, 4568355d-5768-4813-8ce7-5ac8fd807240]
2020-10-02 09:23:02,117 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/users with status=200
2020-10-02 09:23:02,229 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/messages/1ae99533-7be8-48b6-8fbc-90b0dbd7bb01/0
2020-10-02 09:23:02,236 DEBUG vn.zalopay.phucvt.fooapp.handler.MessageListHandler get messages list: cache miss, 3e323fc8-35fa-4d9f-a3d2-fea1452d210f-1ae99533-7be8-48b6-8fbc-90b0dbd7bb01-0
2020-10-02 09:23:02,244 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/messages/1ae99533-7be8-48b6-8fbc-90b0dbd7bb01/0 with status=200
2020-10-02 09:23:09,006 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws : close connection with userId=4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:23:10,125 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws connected with user: 4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:23:10,261 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/users
2020-10-02 09:23:10,276 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler cache hit, user list size=3
2020-10-02 09:23:10,277 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler get online user ids, set=[3e323fc8-35fa-4d9f-a3d2-fea1452d210f, 4568355d-5768-4813-8ce7-5ac8fd807240]
2020-10-02 09:23:10,278 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/users with status=200
2020-10-02 09:23:10,486 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/messages/3e323fc8-35fa-4d9f-a3d2-fea1452d210f/0
2020-10-02 09:23:10,500 DEBUG vn.zalopay.phucvt.fooapp.handler.MessageListHandler get messages list: cache miss, 4568355d-5768-4813-8ce7-5ac8fd807240-3e323fc8-35fa-4d9f-a3d2-fea1452d210f-0
2020-10-02 09:23:10,532 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/messages/3e323fc8-35fa-4d9f-a3d2-fea1452d210f/0 with status=200
2020-10-02 09:23:14,225 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/messages/4568355d-5768-4813-8ce7-5ac8fd807240/0
2020-10-02 09:23:14,229 DEBUG vn.zalopay.phucvt.fooapp.handler.MessageListHandler get messages list: cache miss, 3e323fc8-35fa-4d9f-a3d2-fea1452d210f-4568355d-5768-4813-8ce7-5ac8fd807240-0
2020-10-02 09:23:14,232 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/messages/4568355d-5768-4813-8ce7-5ac8fd807240/0 with status=200
2020-10-02 09:23:37,897 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl gRPC call transferMoney from userId=3e323fc8-35fa-4d9f-a3d2-fea1452d210f to userId=4568355d-5768-4813-8ce7-5ac8fd807240 with amount=12000
2020-10-02 09:23:37,898 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl get user auth for userId=3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 09:23:37,902 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl validate password
2020-10-02 09:23:37,908 ERROR vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl validate password failed, cause= message: Result is already complete: failed
, stackTrace: java.lang.IllegalStateException: Result is already complete: failed
	at io.vertx.core.impl.FutureImpl.complete(FutureImpl.java:87)
	at vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl.validatePassword(FintechServiceImpl.java:153)
	at io.vertx.core.Future.lambda$compose$1(Future.java:265)
	at io.vertx.core.impl.FutureImpl.setHandler(FutureImpl.java:79)
	at io.vertx.core.Future.compose(Future.java:261)
	at vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl.transferMoney(FintechServiceImpl.java:69)
	at vn.zalopay.phucvt.fooapp.fintech.FintechServiceGrpc$MethodHandlers.invoke(FintechServiceGrpc.java:428)
	at io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:180)
	at io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35)
	at io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23)
	at io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40)
	at io.grpc.Contexts$ContextualizedServerCallListener.onHalfClose(Contexts.java:86)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:331)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:814)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-10-02 09:24:27,947 INFO  vn.zalopay.phucvt.fooapp.grpc.gRPCServer gRPC server start successfully !, port 5001
2020-10-02 09:24:27,964 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:24:27,965 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:24:27,968 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:24:27,968 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:24:27,969 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:24:27,969 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:24:27,969 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:24:27,969 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:24:27,971 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:24:27,971 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:24:27,971 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:24:27,971 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:24:27,971 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:24:27,971 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:24:27,971 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:24:27,972 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:24:28,494 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws connected with user: 4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:24:33,133 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws connected with user: 3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 09:24:33,342 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/users
2020-10-02 09:24:33,379 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler cache hit, user list size=3
2020-10-02 09:24:33,380 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler get online user ids, set=[3e323fc8-35fa-4d9f-a3d2-fea1452d210f, 4568355d-5768-4813-8ce7-5ac8fd807240]
2020-10-02 09:24:33,400 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/users with status=200
2020-10-02 09:24:33,542 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/messages/1ae99533-7be8-48b6-8fbc-90b0dbd7bb01/0
2020-10-02 09:24:33,561 DEBUG vn.zalopay.phucvt.fooapp.handler.MessageListHandler get messages list: cache miss, 3e323fc8-35fa-4d9f-a3d2-fea1452d210f-1ae99533-7be8-48b6-8fbc-90b0dbd7bb01-0
2020-10-02 09:24:33,651 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/messages/1ae99533-7be8-48b6-8fbc-90b0dbd7bb01/0 with status=200
2020-10-02 09:24:34,109 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws : close connection with userId=4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:24:34,951 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws connected with user: 4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:24:35,035 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/users
2020-10-02 09:24:35,054 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler cache hit, user list size=3
2020-10-02 09:24:35,055 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler get online user ids, set=[3e323fc8-35fa-4d9f-a3d2-fea1452d210f, 4568355d-5768-4813-8ce7-5ac8fd807240]
2020-10-02 09:24:35,056 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/users with status=200
2020-10-02 09:24:35,163 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/messages/3e323fc8-35fa-4d9f-a3d2-fea1452d210f/0
2020-10-02 09:24:35,183 DEBUG vn.zalopay.phucvt.fooapp.handler.MessageListHandler get messages list: cache miss, 4568355d-5768-4813-8ce7-5ac8fd807240-3e323fc8-35fa-4d9f-a3d2-fea1452d210f-0
2020-10-02 09:24:35,202 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/messages/3e323fc8-35fa-4d9f-a3d2-fea1452d210f/0 with status=200
2020-10-02 09:24:41,560 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/messages/4568355d-5768-4813-8ce7-5ac8fd807240/0
2020-10-02 09:24:41,565 DEBUG vn.zalopay.phucvt.fooapp.handler.MessageListHandler get messages list: cache miss, 3e323fc8-35fa-4d9f-a3d2-fea1452d210f-4568355d-5768-4813-8ce7-5ac8fd807240-0
2020-10-02 09:24:41,568 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/messages/4568355d-5768-4813-8ce7-5ac8fd807240/0 with status=200
2020-10-02 09:24:50,354 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl gRPC call transferMoney from userId=3e323fc8-35fa-4d9f-a3d2-fea1452d210f to userId=4568355d-5768-4813-8ce7-5ac8fd807240 with amount=10000
2020-10-02 09:24:50,355 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl get user auth for userId=3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 09:24:50,368 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl validate password
2020-10-02 09:24:50,378 ERROR vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl validate password failed, cause= message: ConfirmPassword not match
, stackTrace: io.vertx.core.impl.NoStackTraceThrowable: ConfirmPassword not match

2020-10-02 09:25:46,668 INFO  vn.zalopay.phucvt.fooapp.grpc.gRPCServer gRPC server start successfully !, port 5001
2020-10-02 09:25:46,694 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:25:46,698 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:25:46,698 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:25:46,698 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:25:46,698 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:25:46,699 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:25:46,699 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:25:46,701 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:25:46,702 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:25:46,702 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:25:46,702 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:25:46,702 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:25:46,702 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:25:46,703 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:25:46,706 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:25:46,707 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:25:47,449 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws connected with user: 4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:25:51,479 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws connected with user: 3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 09:25:52,220 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws : close connection with userId=3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 09:25:53,369 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws connected with user: 3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 09:25:53,560 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/users
2020-10-02 09:25:53,604 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler cache hit, user list size=3
2020-10-02 09:25:53,605 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler get online user ids, set=[3e323fc8-35fa-4d9f-a3d2-fea1452d210f, 4568355d-5768-4813-8ce7-5ac8fd807240]
2020-10-02 09:25:53,607 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/users with status=200
2020-10-02 09:25:53,758 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/messages/1ae99533-7be8-48b6-8fbc-90b0dbd7bb01/0
2020-10-02 09:25:53,785 DEBUG vn.zalopay.phucvt.fooapp.handler.MessageListHandler get messages list: cache miss, 3e323fc8-35fa-4d9f-a3d2-fea1452d210f-1ae99533-7be8-48b6-8fbc-90b0dbd7bb01-0
2020-10-02 09:25:53,911 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/messages/1ae99533-7be8-48b6-8fbc-90b0dbd7bb01/0 with status=200
2020-10-02 09:25:54,128 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws : close connection with userId=4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:25:54,982 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws connected with user: 4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:25:55,075 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/users
2020-10-02 09:25:55,108 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler cache hit, user list size=3
2020-10-02 09:25:55,108 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler get online user ids, set=[3e323fc8-35fa-4d9f-a3d2-fea1452d210f, 4568355d-5768-4813-8ce7-5ac8fd807240]
2020-10-02 09:25:55,108 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/users with status=200
2020-10-02 09:25:55,203 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/messages/3e323fc8-35fa-4d9f-a3d2-fea1452d210f/0
2020-10-02 09:25:55,206 DEBUG vn.zalopay.phucvt.fooapp.handler.MessageListHandler get messages list: cache miss, 4568355d-5768-4813-8ce7-5ac8fd807240-3e323fc8-35fa-4d9f-a3d2-fea1452d210f-0
2020-10-02 09:25:55,214 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/messages/3e323fc8-35fa-4d9f-a3d2-fea1452d210f/0 with status=200
2020-10-02 09:25:56,658 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/messages/4568355d-5768-4813-8ce7-5ac8fd807240/0
2020-10-02 09:25:56,662 DEBUG vn.zalopay.phucvt.fooapp.handler.MessageListHandler get messages list: cache miss, 3e323fc8-35fa-4d9f-a3d2-fea1452d210f-4568355d-5768-4813-8ce7-5ac8fd807240-0
2020-10-02 09:25:56,668 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/messages/4568355d-5768-4813-8ce7-5ac8fd807240/0 with status=200
2020-10-02 09:26:09,195 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl gRPC call transferMoney from userId=3e323fc8-35fa-4d9f-a3d2-fea1452d210f to userId=4568355d-5768-4813-8ce7-5ac8fd807240 with amount=10000
2020-10-02 09:26:09,195 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl get user auth for userId=3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 09:26:09,202 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl validate password
2020-10-02 09:26:09,214 ERROR vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl validate password failed, cause= message: ConfirmPassword not match
, stackTrace: io.vertx.core.impl.NoStackTraceThrowable: ConfirmPassword not match

2020-10-02 09:26:22,803 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl gRPC call transferMoney from userId=3e323fc8-35fa-4d9f-a3d2-fea1452d210f to userId=4568355d-5768-4813-8ce7-5ac8fd807240 with amount=1200
2020-10-02 09:26:22,803 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl get user auth for userId=3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 09:26:22,813 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl validate password
2020-10-02 09:26:22,818 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl Validated pwd, now start transaction
2020-10-02 09:26:22,843 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl check balance
2020-10-02 09:26:22,847 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl withdraw userId=3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 09:26:22,853 INFO  vn.zalopay.phucvt.fooapp.da.FintechDAImpl Set param prepared statement:-1200--1601605582--3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 09:26:22,855 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 09:26:22,856 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl deposit userId=4568355d-5768-4813-8ce7-5ac8fd807240 with amount=1200
2020-10-02 09:26:22,856 INFO  vn.zalopay.phucvt.fooapp.da.FintechDAImpl Set param prepared statement:1200--1601605582--4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:26:22,856 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=updateBalance
2020-10-02 09:26:22,858 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 09:26:22,858 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl log transfer 3e323fc8-35fa-4d9f-a3d2-fea1452d210f=4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:26:22,860 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=updateBalance
2020-10-02 09:26:22,862 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 09:26:22,863 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl log account_log userId=3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 09:26:22,868 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=insertTransfer
2020-10-02 09:26:22,870 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 09:26:22,870 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl log account_log userId=4568355d-5768-4813-8ce7-5ac8fd807240
2020-10-02 09:26:22,871 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=insertAccountLog
2020-10-02 09:26:22,873 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 09:26:22,874 DEBUG vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl Transaction successfully
2020-10-02 09:26:22,878 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=insertAccountLog
2020-10-02 09:39:17,691 INFO  vn.zalopay.phucvt.fooapp.grpc.gRPCServer gRPC server start successfully !, port 5001
2020-10-02 09:39:17,711 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:39:17,716 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:39:17,714 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:39:17,715 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:39:17,714 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:39:17,714 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:39:17,715 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:39:17,715 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:39:17,723 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:39:17,723 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:39:17,723 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:39:17,723 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:39:17,723 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:39:17,726 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:39:17,726 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:39:17,726 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:39:23,888 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws connected with user: 3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 09:39:24,022 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/users
2020-10-02 09:39:24,177 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler cache miss, get user list from db, size=3
2020-10-02 09:39:24,182 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler get online user ids, set=[3e323fc8-35fa-4d9f-a3d2-fea1452d210f]
2020-10-02 09:39:24,188 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/users with status=200
2020-10-02 09:39:24,357 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/messages/1ae99533-7be8-48b6-8fbc-90b0dbd7bb01/0
2020-10-02 09:39:24,365 DEBUG vn.zalopay.phucvt.fooapp.handler.MessageListHandler get messages list: cache miss, 3e323fc8-35fa-4d9f-a3d2-fea1452d210f-1ae99533-7be8-48b6-8fbc-90b0dbd7bb01-0
2020-10-02 09:39:24,419 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/messages/1ae99533-7be8-48b6-8fbc-90b0dbd7bb01/0 with status=200
2020-10-02 09:39:56,178 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/public/signup
2020-10-02 09:39:56,223 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 09:39:56,225 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=insertUser
2020-10-02 09:39:56,232 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/public/signup with status=200
2020-10-02 09:40:01,685 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/public/login
2020-10-02 09:40:01,698 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/public/login with status=200
2020-10-02 09:40:01,699 INFO  vn.zalopay.phucvt.fooapp.handler.LogInHandler login successfully by user=zoro
2020-10-02 09:40:01,750 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws connected with user: c8767e38-e338-4d19-9425-c3316903a25b
2020-10-02 09:40:01,844 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/users
2020-10-02 09:40:01,859 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler cache hit, user list size=4
2020-10-02 09:40:01,859 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler get online user ids, set=[3e323fc8-35fa-4d9f-a3d2-fea1452d210f, c8767e38-e338-4d19-9425-c3316903a25b]
2020-10-02 09:40:01,860 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/users with status=200
2020-10-02 09:40:01,985 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/messages/3e323fc8-35fa-4d9f-a3d2-fea1452d210f/0
2020-10-02 09:40:01,989 DEBUG vn.zalopay.phucvt.fooapp.handler.MessageListHandler get messages list: cache miss, c8767e38-e338-4d19-9425-c3316903a25b-3e323fc8-35fa-4d9f-a3d2-fea1452d210f-0
2020-10-02 09:40:01,992 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/messages/3e323fc8-35fa-4d9f-a3d2-fea1452d210f/0 with status=200
2020-10-02 09:40:05,199 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws : close connection with userId=3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 09:40:06,392 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws connected with user: 3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 09:40:06,506 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/users
2020-10-02 09:40:06,543 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler cache hit, user list size=4
2020-10-02 09:40:06,545 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler get online user ids, set=[3e323fc8-35fa-4d9f-a3d2-fea1452d210f, c8767e38-e338-4d19-9425-c3316903a25b]
2020-10-02 09:40:06,545 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/users with status=200
2020-10-02 09:40:06,747 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/messages/1ae99533-7be8-48b6-8fbc-90b0dbd7bb01/0
2020-10-02 09:40:06,749 DEBUG vn.zalopay.phucvt.fooapp.handler.MessageListHandler get messages list: cache miss, 3e323fc8-35fa-4d9f-a3d2-fea1452d210f-1ae99533-7be8-48b6-8fbc-90b0dbd7bb01-0
2020-10-02 09:40:06,751 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/messages/1ae99533-7be8-48b6-8fbc-90b0dbd7bb01/0 with status=200
2020-10-02 09:41:00,016 INFO  vn.zalopay.phucvt.fooapp.grpc.gRPCServer gRPC server start successfully !, port 5001
2020-10-02 09:41:00,042 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:41:00,043 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:41:00,045 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:41:00,045 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:41:00,046 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:41:00,050 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:41:00,050 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:41:00,052 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:41:00,052 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:41:00,052 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:41:00,053 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:41:00,050 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 09:41:00,053 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:41:00,052 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:41:00,052 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:41:00,054 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 09:41:00,771 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws connected with user: c8767e38-e338-4d19-9425-c3316903a25b
2020-10-02 09:41:01,349 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws connected with user: 3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 09:41:06,937 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws : close connection with userId=c8767e38-e338-4d19-9425-c3316903a25b
2020-10-02 09:41:30,904 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/public/signup
2020-10-02 09:41:30,983 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 09:41:30,986 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=insertUser
2020-10-02 09:41:31,037 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/public/signup with status=200
2020-10-02 09:41:36,990 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/public/login
2020-10-02 09:41:37,006 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/public/login with status=200
2020-10-02 09:41:37,007 INFO  vn.zalopay.phucvt.fooapp.handler.LogInHandler login successfully by user=sanji
2020-10-02 09:41:37,056 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws connected with user: 90442508-f1d4-46aa-952c-6dbb7113d914
2020-10-02 09:41:37,150 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/users
2020-10-02 09:41:37,163 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler cache hit, user list size=5
2020-10-02 09:41:37,164 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler get online user ids, set=[90442508-f1d4-46aa-952c-6dbb7113d914, 3e323fc8-35fa-4d9f-a3d2-fea1452d210f]
2020-10-02 09:41:37,165 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/users with status=200
2020-10-02 09:41:37,283 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/messages/3e323fc8-35fa-4d9f-a3d2-fea1452d210f/0
2020-10-02 09:41:37,289 DEBUG vn.zalopay.phucvt.fooapp.handler.MessageListHandler get messages list: cache miss, 90442508-f1d4-46aa-952c-6dbb7113d914-3e323fc8-35fa-4d9f-a3d2-fea1452d210f-0
2020-10-02 09:41:37,315 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/messages/3e323fc8-35fa-4d9f-a3d2-fea1452d210f/0 with status=200
2020-10-02 09:41:40,393 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws : close connection with userId=3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 09:41:41,584 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws connected with user: 3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 09:41:41,705 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/users
2020-10-02 09:41:41,745 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler cache hit, user list size=5
2020-10-02 09:41:41,747 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler get online user ids, set=[90442508-f1d4-46aa-952c-6dbb7113d914, 3e323fc8-35fa-4d9f-a3d2-fea1452d210f]
2020-10-02 09:41:41,750 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/users with status=200
2020-10-02 09:41:42,109 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/messages/1ae99533-7be8-48b6-8fbc-90b0dbd7bb01/0
2020-10-02 09:41:42,128 DEBUG vn.zalopay.phucvt.fooapp.handler.MessageListHandler get messages list: cache miss, 3e323fc8-35fa-4d9f-a3d2-fea1452d210f-1ae99533-7be8-48b6-8fbc-90b0dbd7bb01-0
2020-10-02 09:41:42,160 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/messages/1ae99533-7be8-48b6-8fbc-90b0dbd7bb01/0 with status=200
2020-10-02 09:42:42,647 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl gRPC call transferMoney from userId=90442508-f1d4-46aa-952c-6dbb7113d914 to userId=3e323fc8-35fa-4d9f-a3d2-fea1452d210f with amount=120000
2020-10-02 09:42:42,648 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl get user auth for userId=90442508-f1d4-46aa-952c-6dbb7113d914
2020-10-02 09:42:42,654 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl validate password
2020-10-02 09:42:42,659 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl Validated pwd, now start transaction
2020-10-02 09:42:42,669 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl check balance
2020-10-02 09:42:42,672 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl withdraw userId=90442508-f1d4-46aa-952c-6dbb7113d914
2020-10-02 09:42:42,682 INFO  vn.zalopay.phucvt.fooapp.da.FintechDAImpl Set param prepared statement:-120000--1601606562--90442508-f1d4-46aa-952c-6dbb7113d914
2020-10-02 09:42:42,685 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 09:42:42,685 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl deposit userId=3e323fc8-35fa-4d9f-a3d2-fea1452d210f with amount=120000
2020-10-02 09:42:42,685 INFO  vn.zalopay.phucvt.fooapp.da.FintechDAImpl Set param prepared statement:120000--1601606562--3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 09:42:42,686 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=updateBalance
2020-10-02 09:42:42,687 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 09:42:42,688 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl log transfer 90442508-f1d4-46aa-952c-6dbb7113d914=3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 09:42:42,690 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=updateBalance
2020-10-02 09:42:42,691 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 09:42:42,692 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl log account_log userId=90442508-f1d4-46aa-952c-6dbb7113d914
2020-10-02 09:42:42,698 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=insertTransfer
2020-10-02 09:42:42,700 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 09:42:42,701 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl log account_log userId=3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 09:42:42,701 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=insertAccountLog
2020-10-02 09:42:42,704 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 09:42:42,704 DEBUG vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl Transaction successfully
2020-10-02 09:42:42,763 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=insertAccountLog
2020-10-02 10:51:59,405 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws : close connection with userId=90442508-f1d4-46aa-952c-6dbb7113d914
2020-10-02 10:51:59,523 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws : close connection with userId=3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 10:52:08,993 INFO  vn.zalopay.phucvt.fooapp.grpc.gRPCServer gRPC server start successfully !, port 5001
2020-10-02 10:52:09,020 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 10:52:09,023 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 10:52:09,023 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 10:52:09,024 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 10:52:09,024 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 10:52:09,023 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 10:52:09,023 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 10:52:09,027 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer Web Socket server start successfully !, port 9009
2020-10-02 10:52:09,039 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 10:52:09,040 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 10:52:09,040 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 10:52:09,041 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 10:52:09,041 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 10:52:09,042 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 10:52:09,042 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 10:52:09,043 INFO  vn.zalopay.phucvt.fooapp.server.RestfulAPI API Server start successfully !, port:8055
2020-10-02 10:52:12,492 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws connected with user: 90442508-f1d4-46aa-952c-6dbb7113d914
2020-10-02 10:52:12,503 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws connected with user: 3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 10:52:16,600 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws : close connection with userId=90442508-f1d4-46aa-952c-6dbb7113d914
2020-10-02 10:52:17,706 INFO  vn.zalopay.phucvt.fooapp.server.WebSocketServer ws connected with user: 90442508-f1d4-46aa-952c-6dbb7113d914
2020-10-02 10:52:17,868 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/users
2020-10-02 10:52:17,968 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler cache miss, get user list from db, size=5
2020-10-02 10:52:17,969 DEBUG vn.zalopay.phucvt.fooapp.handler.UserListHandler get online user ids, set=[90442508-f1d4-46aa-952c-6dbb7113d914, 3e323fc8-35fa-4d9f-a3d2-fea1452d210f]
2020-10-02 10:52:17,977 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/users with status=200
2020-10-02 10:52:18,164 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Handle request=/api/protected/messages/3e323fc8-35fa-4d9f-a3d2-fea1452d210f/0
2020-10-02 10:52:18,192 DEBUG vn.zalopay.phucvt.fooapp.handler.MessageListHandler get messages list: cache miss, 90442508-f1d4-46aa-952c-6dbb7113d914-3e323fc8-35fa-4d9f-a3d2-fea1452d210f-0
2020-10-02 10:52:18,274 INFO  vn.zalopay.phucvt.fooapp.handler.BaseHandler Response to request=/api/protected/messages/3e323fc8-35fa-4d9f-a3d2-fea1452d210f/0 with status=200
2020-10-02 10:52:32,602 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl gRPC call transferMoney from userId=90442508-f1d4-46aa-952c-6dbb7113d914 to userId=3e323fc8-35fa-4d9f-a3d2-fea1452d210f with amount=123000
2020-10-02 10:52:32,603 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl get user auth for userId=90442508-f1d4-46aa-952c-6dbb7113d914
2020-10-02 10:52:32,610 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl validate password
2020-10-02 10:52:32,622 ERROR vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl validate password failed, cause= message: Confirm password not match
, stackTrace: vn.zalopay.phucvt.fooapp.grpc.exceptions.TransferMoneyException: Confirm password not match
	at vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl.validatePassword(FintechServiceImpl.java:160)
	at io.vertx.core.Future.lambda$compose$1(Future.java:265)
	at io.vertx.core.impl.FutureImpl.tryComplete(FutureImpl.java:125)
	at io.vertx.core.impl.FutureImpl.complete(FutureImpl.java:86)
	at vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl.lambda$getUserAuth$4(FintechServiceImpl.java:141)
	at io.vertx.core.impl.FutureImpl.tryComplete(FutureImpl.java:125)
	at io.vertx.core.impl.FutureImpl.complete(FutureImpl.java:86)
	at vn.zalopay.phucvt.fooapp.da.BaseTransactionDA.queryEntity(BaseTransactionDA.java:168)
	at vn.zalopay.phucvt.fooapp.da.UserDAImpl.lambda$selectUserById$1(UserDAImpl.java:65)
	at vn.zalopay.phucvt.fooapp.utils.AsyncHandler.lambda$run$0(AsyncHandler.java:21)
	at io.vertx.core.impl.ContextImpl.lambda$executeBlocking$2(ContextImpl.java:272)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)

2020-10-02 10:53:39,929 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl gRPC call transferMoney from userId=90442508-f1d4-46aa-952c-6dbb7113d914 to userId=3e323fc8-35fa-4d9f-a3d2-fea1452d210f with amount=21000000
2020-10-02 10:53:39,930 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl get user auth for userId=90442508-f1d4-46aa-952c-6dbb7113d914
2020-10-02 10:53:39,939 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl validate password
2020-10-02 10:53:39,943 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl Validated pwd, now start transaction
2020-10-02 10:53:39,962 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl check balance
2020-10-02 10:53:39,969 ERROR vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl transfer money transaction failed, cause= message: Balance less than transferred amount
, stackTrace: vn.zalopay.phucvt.fooapp.grpc.exceptions.TransferMoneyException: Balance less than transferred amount
	at vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl.lambda$checkBalance$5(FintechServiceImpl.java:180)
	at io.vertx.core.impl.FutureImpl.tryComplete(FutureImpl.java:125)
	at io.vertx.core.impl.FutureImpl.complete(FutureImpl.java:86)
	at vn.zalopay.phucvt.fooapp.da.BaseTransactionDA.queryEntity(BaseTransactionDA.java:168)
	at vn.zalopay.phucvt.fooapp.da.UserDAImpl.lambda$selectUserById$1(UserDAImpl.java:65)
	at vn.zalopay.phucvt.fooapp.utils.AsyncHandler.lambda$run$0(AsyncHandler.java:21)
	at io.vertx.core.impl.ContextImpl.lambda$executeBlocking$2(ContextImpl.java:272)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)

2020-10-02 10:54:16,981 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl gRPC call transferMoney from userId=90442508-f1d4-46aa-952c-6dbb7113d914 to userId=3e323fc8-35fa-4d9f-a3d2-fea1452d210f with amount=120000
2020-10-02 10:54:16,982 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl get user auth for userId=90442508-f1d4-46aa-952c-6dbb7113d914
2020-10-02 10:54:17,009 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl validate password
2020-10-02 10:54:17,022 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl Validated pwd, now start transaction
2020-10-02 10:54:17,031 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl check balance
2020-10-02 10:54:17,047 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl withdraw userId=90442508-f1d4-46aa-952c-6dbb7113d914
2020-10-02 10:54:17,058 INFO  vn.zalopay.phucvt.fooapp.da.FintechDAImpl Set param prepared statement:-120000--1601610857--90442508-f1d4-46aa-952c-6dbb7113d914
2020-10-02 10:54:17,063 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 10:54:17,065 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl deposit userId=3e323fc8-35fa-4d9f-a3d2-fea1452d210f with amount=120000
2020-10-02 10:54:17,066 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=updateBalance
2020-10-02 10:54:17,066 INFO  vn.zalopay.phucvt.fooapp.da.FintechDAImpl Set param prepared statement:120000--1601610857--3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 10:54:17,068 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 10:54:17,069 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl log transfer 90442508-f1d4-46aa-952c-6dbb7113d914=3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 10:54:17,073 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=updateBalance
2020-10-02 10:54:17,074 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 10:54:17,075 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl log account_log userId=90442508-f1d4-46aa-952c-6dbb7113d914
2020-10-02 10:54:17,081 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=insertTransfer
2020-10-02 10:54:17,082 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 10:54:17,082 INFO  vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl log account_log userId=3e323fc8-35fa-4d9f-a3d2-fea1452d210f
2020-10-02 10:54:17,083 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=insertAccountLog
2020-10-02 10:54:17,086 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA affectedRow: 1
2020-10-02 10:54:17,086 DEBUG vn.zalopay.phucvt.fooapp.grpc.FintechServiceImpl Transaction successfully
2020-10-02 10:54:17,089 INFO  vn.zalopay.phucvt.fooapp.da.BaseTransactionDA close connection with method=insertAccountLog
